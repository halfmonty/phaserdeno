{
  "version": 3,
  "sources": ["../../../games/dungeon/main.ts", "../../../games/dungeon/scenes/bootloader.ts", "../../../games/dungeon/scenes/outro.ts", "../../../games/dungeon/scenes/splash.ts", "../../../games/dungeon/scenes/transition.ts", "../../../games/dungeon/gameobjects/bat.ts", "../../../games/dungeon/gameobjects/fireball.ts", "../../../games/dungeon/gameobjects/wizard.ts", "../../../games/dungeon/gameobjects/bubble.ts", "../../../games/dungeon/gameobjects/particle.ts", "../../../games/dungeon/gameobjects/player.ts", "../../../games/dungeon/gameobjects/dungeon_generator.ts", "../../../games/dungeon/gameobjects/coin.ts", "../../../games/dungeon/gameobjects/key.ts", "../../../games/dungeon/gameobjects/seesaw.ts", "../../../games/dungeon/scenes/game.ts"],
  "sourcesContent": ["import Phaser from 'https://esm.sh/phaser@4.0.0-rc.4';\r\n// import PhaserMatterCollisionPlugin from 'https://esm.sh/phaser-matter-collision-plugin';\r\nimport { Scale } from 'https://esm.sh/phaser@4.0.0-rc.4/types/phaser.d.ts';\r\nimport Bootloader from './scenes/bootloader.ts';\r\nimport Outro from './scenes/outro.ts';\r\nimport Splash from './scenes/splash.ts';\r\nimport Transition from './scenes/transition.ts';\r\nimport Game from './scenes/game.ts';\r\n\r\n// const pluginConfig = {\r\n//   // The plugin class:\r\n//   plugin: PhaserMatterCollisionPlugin,\r\n//   // Where to store in Scene.Systems, e.g. scene.sys.matterCollision:\r\n//   key: \"matterCollision\" as \"matterCollision\",\r\n//   // Where to store in the Scene, e.g. scene.matterCollision:\r\n//   mapping: \"matterCollision\" as \"matterCollision\",\r\n// };\r\n\r\n// declare module 'https://esm.sh/phaser@4.0.0-rc.4' {\r\n//   interface Scene {\r\n//     [pluginConfig.mapping]: PhaserMatterCollisionPlugin;\r\n//   }\r\n//   namespace Scenes {\r\n//     interface Systems {\r\n//       [pluginConfig.key]: PhaserMatterCollisionPlugin;\r\n//     }\r\n//   }\r\n// }\r\n\r\nconst config: Phaser.Types.Core.GameConfig = {\r\n\twidth: 600,\r\n\theight: 600,\r\n    scale: {\r\n        mode: Phaser.Scale.FIT,\r\n        autoCenter: Phaser.Scale.CENTER_BOTH,\r\n    },\r\n\tautoRound: false,\r\n\tparent: 'game-container',\r\n\tphysics: {\r\n\t\tdefault: 'matter',\r\n\t\tmatter: {\r\n            debug: false\r\n        }\r\n\t},\r\n\tplugins: {\r\n        scene: []\r\n    },\r\n\tscene: [Bootloader, Splash, Transition, Game, Outro],\r\n};\r\n\r\nconst game = new Phaser.Game(config);", "export default class Bootloader extends Phaser.Scene {\r\n    progressBar!: Phaser.GameObjects.Graphics;\r\n    loadBar!: Phaser.GameObjects.Graphics;\r\n\r\n    constructor() {\r\n        super({ key: 'bootloader' });\r\n    }\r\n\r\n    preload() {\r\n    this.createBars();\r\n    this.setLoadEvents();\r\n    this.loadFonts();\r\n    this.loadImages();\r\n    this.loadMaps();\r\n    this.loadAudios();\r\n    this.loadSpritesheets();\r\n  }\r\n\r\n  /*\r\n    As we showed before, this method takes care of the loading bar and the progress bar using load events.\r\n    */\r\n  setLoadEvents() {\r\n    this.load.on(\r\n      \"progress\",\r\n      (value: number) => {\r\n        this.progressBar.clear();\r\n        this.progressBar.fillStyle(0x0088aa, 1);\r\n        this.progressBar.fillRect(\r\n          this.cameras.main.width / 4,\r\n          this.cameras.main.height / 2 - 16,\r\n          (this.cameras.main.width / 2) * value,\r\n          16\r\n        );\r\n      },\r\n      this\r\n    );\r\n\r\n    this.load.on(\r\n      \"complete\",\r\n      () => {\r\n        this.scene.start(\"splash\");\r\n      },\r\n      this\r\n    );\r\n  }\r\n\r\n  /*\r\n    The fonts are loaded in this method. We'll call them default. Later we could add other fonts but with the same \"default\" name in case we want to try different fonts.\r\n    */\r\n  loadFonts() {\r\n    this.load.bitmapFont(\r\n      \"default\",\r\n      \"assets/dungeon/fonts/pico.png\",\r\n      \"assets/dungeon/fonts/pico.xml\"\r\n    );\r\n  }\r\n\r\n  /*\r\n    This one loads the static images.\r\n    */\r\n  loadImages() {\r\n    this.load.image(\"pello\", \"assets/dungeon/images/pello_ok.png\");\r\n    this.load.image(\"fireball\", \"assets/dungeon/images/fireball.png\");\r\n    this.load.image(\"tiles\", \"assets/dungeon/maps/pixel-poem-tiles.png\");\r\n    this.load.image(\"block\", \"assets/dungeon/images/block.png\");\r\n    this.load.image(\"seesaw\", \"assets/dungeon/images/seesaw.png\");\r\n    this.load.image(\"bubble\", \"assets/dungeon/images/bubble.png\");\r\n    this.load.image(\"platform\", \"assets/dungeon/images/platform.png\");\r\n  }\r\n\r\n  /*\r\n    This loads the level map. In this game, we just use one empty map that we'll fill with the different elements of the game using a dungeon generator class.\r\n    */\r\n  loadMaps() {\r\n    this.load.tilemapTiledJSON(\"scene0\", \"assets/dungeon/maps/level.json\");\r\n  }\r\n\r\n  /*\r\n    This loads the audio files: music and sound effects.\r\n    */\r\n  loadAudios() {\r\n    Array(5)\r\n      .fill(0)\r\n      .forEach((_, i) => {\r\n        this.load.audio(`climb${i}`, `assets/dungeon/sounds/climb${i}.mp3`);\r\n      });\r\n\r\n    this.load.audio(\"splash\", \"assets/dungeon/sounds/splash.mp3\");\r\n    this.load.audio(\"music\", \"assets/dungeon/sounds/music.mp3\");\r\n    this.load.audio(\"jump\", \"assets/dungeon/sounds/jump.mp3\");\r\n    this.load.audio(\"bubble\", \"assets/dungeon/sounds/bubble.mp3\");\r\n    this.load.audio(\"trap\", \"assets/dungeon/sounds/trap.mp3\");\r\n    this.load.audio(\"crash\", \"assets/dungeon/sounds/crash.mp3\");\r\n    this.load.audio(\"fireball\", \"assets/dungeon/sounds/fireball.mp3\");\r\n    this.load.audio(\"win\", \"assets/dungeon/sounds/win.mp3\");\r\n    this.load.audio(\"start\", \"assets/dungeon/sounds/start.mp3\");\r\n    this.load.audio(\"death\", \"assets/dungeon/sounds/death.mp3\");\r\n  }\r\n\r\n  /*\r\n    This part loads sprite sheets for game objects that need animations or variations.\r\n    */\r\n  loadSpritesheets() {\r\n    this.load.spritesheet(\"player\", \"assets/dungeon/images/player.png\", {\r\n      frameWidth: 48,\r\n      frameHeight: 48,\r\n    });\r\n    this.load.spritesheet(\"dust\", \"assets/dungeon/images/dust.png\", {\r\n      frameWidth: 32,\r\n      frameHeight: 32,\r\n    });\r\n    this.load.spritesheet(\"coin\", \"assets/dungeon/images/coin.png\", {\r\n      frameWidth: 32,\r\n      frameHeight: 32,\r\n    });\r\n    this.load.spritesheet(\"keys\", \"assets/dungeon/images/keys.png\", {\r\n      frameWidth: 48,\r\n      frameHeight: 48,\r\n    });\r\n    this.load.spritesheet(\"bat\", \"assets/dungeon/images/bat.png\", {\r\n      frameWidth: 32,\r\n      frameHeight: 32,\r\n    });\r\n    this.load.spritesheet(\"wizard\", \"assets/dungeon/images/wizard.png\", {\r\n      frameWidth: 48,\r\n      frameHeight: 48,\r\n    });\r\n  }\r\n\r\n  /*\r\n    This one adds the load bar to the scene.\r\n    */\r\n  createBars() {\r\n    this.loadBar = this.add.graphics();\r\n    this.loadBar.fillStyle(0x00aafb, 1);\r\n    this.loadBar.fillRect(\r\n      this.cameras.main.width / 4 - 2,\r\n      this.cameras.main.height / 2 - 18,\r\n      this.cameras.main.width / 2 + 4,\r\n      20\r\n    );\r\n    this.progressBar = this.add.graphics();\r\n  }\r\n}", "export default class Outro extends Phaser.Scene {\r\n    name!: string;\r\n    number!: number;\r\n    next!: Phaser.Scene;\r\n    width!: number;\r\n    height!: number;\r\n    center_width!: number;\r\n    center_height!: number;\r\n    scoreCoins!: Phaser.GameObjects.BitmapText;\r\n    scoreSeconds!: Phaser.GameObjects.BitmapText;\r\n    player!: Phaser.GameObjects.Sprite;\r\n\r\n\tconstructor() {\r\n\t\tsuper({ key: 'outro' });\r\n\t}\r\n\r\n\tinit(data: {name: string, number: number, next: Phaser.Scene}) {\r\n\t\tthis.name = data.name;\r\n\t\tthis.number = data.number;\r\n\t\tthis.next = data.next;\r\n\t}\r\n\r\n\t/*\r\nFirst, we add all elements to the scene: player image, score, text, and the input to restart the game.\r\n  */\r\n\tcreate() {\r\n\t\tthis.width = +this.sys.game.config.width;\r\n\t\tthis.height = +this.sys.game.config.height;\r\n\t\tthis.center_width = this.width / 2;\r\n\t\tthis.center_height = this.height / 2;\r\n\t\tthis.showPlayer();\r\n\t\tthis.sound.add('win').play();\r\n\t\tthis.scoreCoins = this.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\t50,\r\n\t\t\t\t'default',\r\n\t\t\t\t'Coins: ' + this.registry.get('coins'),\r\n\t\t\t\t25,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0);\r\n\t\tthis.scoreSeconds = this.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\t100,\r\n\t\t\t\t'default',\r\n\t\t\t\t'Time: ' + this.registry.get('seconds'),\r\n\t\t\t\t25,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0);\r\n\t\tthis.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\tthis.center_height - 20,\r\n\t\t\t\t'default',\r\n\t\t\t\t'YOU DID IT!!',\r\n\t\t\t\t40,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\tthis.center_height + 40,\r\n\t\t\t\t'default',\r\n\t\t\t\t'Press space to restart',\r\n\t\t\t\t25,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.input.keyboard?.on('keydown-ENTER', () => this.loadNext(), this);\r\n\t\tthis.input.keyboard?.on('keydown-SPACE', () => this.loadNext(), this);\r\n\t}\r\n\r\n\tloadNext() {\r\n\t\tthis.scene.start('splash');\r\n\t}\r\n\r\n\t/*\r\n    We show the player image and play the idle animation.\r\n  */\r\n\tshowPlayer() {\r\n\t\tthis.player = this.add\r\n\t\t\t.sprite(this.center_width, this.center_height - 120, 'player')\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScale(3);\r\n\t\tthis.anims.create({\r\n\t\t\tkey: 'playeridle',\r\n\t\t\tframes: this.anims.generateFrameNumbers('player', { start: 0, end: 1 }),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\r\n\t\tthis.player.anims.play('playeridle');\r\n\t}\r\n}\r\n", "export default class Splash extends Phaser.Scene {\r\n\twidth!: number;\r\n\theight!: number;\r\n\tcenter_width!: number;\r\n\tcenter_height!: number;\r\n    backLayer!: Phaser.GameObjects.Layer;\r\n    theme!: Phaser.Sound.NoAudioSound | Phaser.Sound.HTML5AudioSound | Phaser.Sound.WebAudioSound;\r\n    textShadow1!: Phaser.GameObjects.BitmapText;\r\n    textShadow2!: Phaser.GameObjects.BitmapText;\r\n    text1!: Phaser.GameObjects.BitmapText;\r\n    text2!: Phaser.GameObjects.BitmapText;\r\n    text11!: Phaser.GameObjects.BitmapText;\r\n    text22!: Phaser.GameObjects.BitmapText;\r\n    space!: Phaser.GameObjects.BitmapText\r\n    player!: Phaser.GameObjects.Sprite;\r\n    foe!: Phaser.GameObjects.Sprite;\r\n\r\n\tconstructor() {\r\n\t\tsuper({ key: 'splash' });\r\n\t}\r\n\r\n\t/*\r\n  As always, we create everything we need on the scene from the create method.\r\n  */\r\n\tcreate() {\r\n\t\tthis.width = +this.sys.game.config.width;\r\n\t\tthis.height = +this.sys.game.config.height;\r\n\t\tthis.center_width = this.width / 2;\r\n\t\tthis.center_height = this.height / 2;\r\n\r\n\t\tthis.backLayer = this.add.layer();\r\n\t\tthis.cameras.main.setBackgroundColor(0x000000);\r\n\t\tthis.showTitle();\r\n\t\tthis.addPlayerAndFoe();\r\n\t\tthis.addAnimationTweens();\r\n\r\n\t\tthis.time.delayedCall(1000, () => this.showInstructions(), undefined, this);\r\n\r\n\t\tthis.input.keyboard?.on('keydown-SPACE', () => this.startGame(), this);\r\n\t\tthis.input.keyboard?.on('keydown-ENTER', () => this.startGame(), this);\r\n\t\tthis.playMusic();\r\n\t}\r\n\r\n\tstartGame() {\r\n\t\tif (this.theme) this.theme.stop();\r\n\t\tthis.scene.start('transition');\r\n\t}\r\n\r\n\t/*\r\n    This shows the title of the game. It's a bitmap text with a shadow and a tween to make it move.\r\n  */\r\n\tshowTitle() {\r\n\t\tthis.textShadow1 = this.add\r\n\t\t\t.bitmapText(this.center_width, 100, 'default', 'DUNGEON', 85)\r\n\t\t\t.setTint(0xff787a)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.textShadow2 = this.add\r\n\t\t\t.bitmapText(this.center_width, 250, 'default', 'BOBBLE', 85)\r\n\t\t\t.setTint(0xff787a)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.text1 = this.add\r\n\t\t\t.bitmapText(this.center_width, 100, 'default', 'DUNGEON', 85)\r\n\t\t\t.setTint(0x302030)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.text2 = this.add\r\n\t\t\t.bitmapText(this.center_width, 250, 'default', 'BOBBLE', 85)\r\n\t\t\t.setTint(0x302030)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.text11 = this.add\r\n\t\t\t.bitmapText(this.center_width, 100, 'default', 'DUNGEON', 88)\r\n\t\t\t.setTint(0x00aafb)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.text22 = this.add\r\n\t\t\t.bitmapText(this.center_width, 250, 'default', 'BOBBLE', 88)\r\n\t\t\t.setTint(0x00aafb)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: [this.textShadow1, this.textShadow2],\r\n\t\t\tduration: 1000,\r\n\t\t\tx: '+=10',\r\n\t\t\ty: '+=10',\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method plays the music of the game. It's a looped music with a volume of 0.3.\r\n  */\r\n\tplayMusic(theme = 'splash') {\r\n\t\tthis.theme = this.sound.add(theme);\r\n\t\tthis.theme.stop();\r\n\t\tthis.theme.play({\r\n\t\t\tmute: false,\r\n\t\t\tvolume: 0.3,\r\n\t\t\trate: 1,\r\n\t\t\tdetune: 0,\r\n\t\t\tseek: 0,\r\n\t\t\tloop: true,\r\n\t\t\tdelay: 0,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method shows the instructions of the game, the classic controls, the author, and a blinking text to start the game.\r\n  */\r\n\tshowInstructions() {\r\n\t\tthis.add\r\n\t\t\t.bitmapText(this.center_width, 430, 'default', 'WASD/Arrows: move', 30)\r\n\t\t\t.setDropShadow(1, 1, 0xff787a, 0.7)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.add\r\n\t\t\t.sprite(this.center_width - 60, 490, 'pello')\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScale(0.3);\r\n\t\tthis.add\r\n\t\t\t.bitmapText(this.center_width + 40, 490, 'default', 'By PELLO', 15)\r\n\t\t\t.setDropShadow(1, 1, 0xff787a, 0.7)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.space = this.add\r\n\t\t\t.bitmapText(this.center_width, 550, 'default', 'Press SPACE to start', 25)\r\n\t\t\t.setDropShadow(1, 1, 0x3d253b, 0.7)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: this.space,\r\n\t\t\tduration: 300,\r\n\t\t\talpha: { from: 0, to: 1 },\r\n\t\t\trepeat: -1,\r\n\t\t\tyoyo: true,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method adds the player and the foe to the scene and creates the animations for both.\r\n  */\r\n\taddPlayerAndFoe() {\r\n\t\tthis.player = this.add.sprite(this.width - 100, 350, 'player').setScale(2);\r\n\t\tthis.anims.create({\r\n\t\t\tkey: 'playeridle',\r\n\t\t\tframes: this.anims.generateFrameNumbers('player', { start: 0, end: 3 }),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t\tthis.player.anims.play('playeridle');\r\n\t\tthis.foe = this.add.sprite(this.width, 350, 'wizard').setScale(2);\r\n\t\tthis.anims.create({\r\n\t\t\tkey: 'foe',\r\n\t\t\tframes: this.anims.generateFrameNumbers('wizard', { start: 0, end: 4 }),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t\tthis.foe.anims.play('foe');\r\n\t}\r\n\r\n\t/*\r\n    We also add some tweens to the player and the foe to make them move. The interesting part is how we can use the tweens to simulate a walk cycle. We just need to change the x value of the target and flip the sprite.\r\n  */\r\n\taddAnimationTweens() {\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: [this.player],\r\n\t\t\tx: { from: this.player.x, to: 0 },\r\n\t\t\tduration: 2500,\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t\tonYoyo: () => {\r\n\t\t\t\tthis.player.flipX = !this.player.flipX;\r\n\t\t\t},\r\n\t\t\tonRepeat: () => {\r\n\t\t\t\tthis.player.flipX = !this.player.flipX;\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: [this.foe],\r\n\t\t\tx: { from: this.foe.x, to: 100 },\r\n\t\t\tduration: 2500,\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t\tonYoyo: () => {\r\n\t\t\t\tthis.foe.flipX = !this.foe.flipX;\r\n\t\t\t},\r\n\t\t\tonRepeat: () => {\r\n\t\t\t\tthis.foe.flipX = !this.foe.flipX;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n", "export default class Transition extends Phaser.Scene {\r\n    width!: number;\r\n    height!: number;\r\n    center_width!: number;\r\n    center_height!: number;\r\n    key!: Phaser.GameObjects.Sprite;\r\n    theme!: Phaser.Sound.NoAudioSound | Phaser.Sound.HTML5AudioSound | Phaser.Sound.WebAudioSound;\r\n\r\n\tconstructor() {\r\n\t\tsuper({ key: 'transition' });\r\n\t}\r\n\r\n\t/*\r\nIn this short transition before the game, we show the instructions and the keys to press to start the game. This scene becomes the prelude right before the game to make the player ready.\r\n  */\r\n\tcreate() {\r\n\t\tthis.sound.stopAll();\r\n\t\tthis.width = +this.sys.game.config.width;\r\n\t\tthis.height = +this.sys.game.config.height;\r\n\t\tthis.center_width = this.width / 2;\r\n\t\tthis.center_height = this.height / 2;\r\n\t\tthis.sound.add('start').play();\r\n\t\tthis.playMusic();\r\n\t\tthis.key = this.add\r\n\t\t\t.sprite(this.center_width, this.center_height - 120, 'keys', 0)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScale(2);\r\n\r\n\t\tthis.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\tthis.center_height - 20,\r\n\t\t\t\t'default',\r\n\t\t\t\t'GET ALL KEYS',\r\n\t\t\t\t30,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.add\r\n\t\t\t.bitmapText(\r\n\t\t\t\tthis.center_width,\r\n\t\t\t\tthis.center_height + 40,\r\n\t\t\t\t'default',\r\n\t\t\t\t'from all rooms!',\r\n\t\t\t\t25,\r\n\t\t\t)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.input.keyboard?.on('keydown-ENTER', () => this.loadNext(), this);\r\n\t\tthis.input.keyboard?.on('keydown-SPACE', () => this.loadNext(), this);\r\n\t\tthis.time.delayedCall(1000, () => this.loadNext(), undefined, this);\r\n\t}\r\n\r\n\tloadNext() {\r\n\t\tthis.scene.start('game');\r\n\t}\r\n\r\n\t/*\r\nWe play the music in a loop from the transition. This way the music doesn't stop when the player goes to the game and it dies. Once the player is in the game scene, if it dies he will be respawned in that scene and this music should continue playing, so it will not stop and start all the time.\r\n  */\r\n\tplayMusic(theme = 'music') {\r\n\t\tthis.theme = this.sound.add(theme);\r\n\t\tthis.theme.stop();\r\n\t\tthis.theme.play({\r\n\t\t\tmute: false,\r\n\t\t\tvolume: 0.2,\r\n\t\t\trate: 1,\r\n\t\t\tdetune: 0,\r\n\t\t\tseek: 0,\r\n\t\t\tloop: true,\r\n\t\t\tdelay: 0,\r\n\t\t});\r\n\t}\r\n}\r\n", "import Bubble from './bubble.ts';\r\n\r\nexport default class Bat extends Phaser.Physics.Matter.Sprite {\r\n    label: string;\r\n    startX: number;\r\n    direction: number;\r\n    dead: boolean = false;\r\n\r\n\tconstructor(\r\n\t\tscene: Phaser.Scene,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\ttexture = 'bat',\r\n\t\t_ground?: Phaser.Tilemaps.TilemapLayer,\r\n\t) {\r\n\t\tsuper(scene.matter.world, x, y, texture, 0);\r\n\t\tthis.label = 'bat';\r\n\t\tthis.scene = scene;\r\n\t\tthis.scene.add.existing(this);\r\n\t\tthis.startX = x;\r\n\t\tthis.direction = Phaser.Math.RND.pick([-1, 1]);\r\n\t\tthis.setFixedRotation();\r\n\t\tthis.setIgnoreGravity(true);\r\n\t\tthis.addCollisions();\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/*\r\n    Initiate the bat animation and movement. Also, add the update event to the scene so it will update in this class.\r\n  */\r\n\tinit() {\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: this.label,\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 1,\r\n\t\t\t}),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: this.label + 'death',\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 2,\r\n\t\t\t\tend: 5,\r\n\t\t\t}),\r\n\t\t\tframeRate: 5,\r\n\t\t});\r\n\r\n\t\tthis.anims.play(this.label, true);\r\n\t\tthis.on('animationcomplete', this.animationComplete, this);\r\n\t\tthis.setVelocityX(this.direction * 5);\r\n\t\tthis.scene.events.on('update', this.update, this);\r\n\t}\r\n\r\n\t/*\r\n    We add the collision event to the scene so we can handle the collision with the bat and the bubble.\r\n  */\r\n\taddCollisions() {\r\n\t\t// this.unsubscribeBatCollide = this.scene.matterCollision.addOnCollideStart({\r\n\t\t// \tobjectA: this,\r\n\t\t// \tcallback: this.onBatCollide,\r\n\t\t// \tcontext: this,\r\n\t\t// });\r\n\t}\r\n\r\n\tonBatCollide({ gameObjectA, gameObjectB }: {gameObjectA: any, gameObjectB: any}) {\r\n\t\tif (gameObjectB instanceof Bubble) {\r\n\t\t\tgameObjectB.load('bat');\r\n\t\t\tthis.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    Update the bat movement. If the bat is not moving anymore, we turn it around.\r\n  */\r\n\toverride update() {\r\n\t\tif (!this.active) return;\r\n\t\tif (Math.abs((this.body as Phaser.Physics.Arcade.Body).velocity.x) <= 0.5) this.turn();\r\n\t}\r\n\r\n\t/*\r\n    This function turns the bat around and sets the velocity to the new direction.\r\n  */\r\n\tturn() {\r\n\t\tthis.direction = -this.direction;\r\n\t\tthis.flipX = this.direction > 0;\r\n\t\tthis.setFlipX(this.direction > 0);\r\n\t\tthis.setVelocityX(this.direction * 5);\r\n\t}\r\n\r\n\t/*\r\n    We don't destroy the bat directly, we kill the bat and play the death animation.\r\n  */\r\n\tdeath() {\r\n\t\tthis.dead = true;\r\n\t\tthis.anims.play(this.label + 'death');\r\n\t}\r\n\r\n\t/*\r\n    This destroys the bat after the death animation is complete.\r\n  */\r\n\tanimationComplete(animation: Phaser.Animations.Animation, _frame: Phaser.Animations.AnimationFrame) {\r\n\t\tif (animation.key === this.label + 'death') {\r\n\t\t\tthis.destroy();\r\n\t\t}\r\n\t}\r\n}\r\n", "import Game from '../scenes/game.ts';\r\n\r\nexport default class Fireball extends Phaser.Physics.Matter.Sprite {\r\n    declare scene: Game;\r\n    label: string;\r\n    direction: number;\r\n    tween?: Phaser.Tweens.Tween;\r\n\r\n\tconstructor(scene: Phaser.Scene, x: number, y: number, direction: number) {\r\n\t\tsuper(scene.matter.world, x, y, 'fireball', 0);\r\n\t\tthis.label = 'fireball';\r\n\t\tthis.scene = scene as Game;\r\n\t\tthis.direction = direction;\r\n\t\tscene.add.existing(this);\r\n\t\tthis.setIgnoreGravity(true);\r\n\t\tthis.setVelocityX(5 * this.direction);\r\n\t\tthis.setVelocityY(Phaser.Math.Between(0, -8));\r\n\t\tthis.setBounce(1);\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/*\r\n    We create the animation for the fireball and add the update event to the scene so it will update in this class.\r\n  */\r\n\tinit() {\r\n\t\tthis.scene.events.on('update', this.update, this);\r\n\t\tthis.tween = this.scene.tweens.add({\r\n\t\t\ttargets: this,\r\n\t\t\tduration: 200,\r\n\t\t\tscale: { from: 0.9, to: 1 },\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t\tthis.scene.time.delayedCall(\r\n\t\t\t3000,\r\n\t\t\t() => {\r\n\t\t\t\tthis.destroy();\r\n\t\t\t},\r\n\t\t\tundefined,\r\n\t\t\tthis,\r\n\t\t);\r\n\t}\r\n\r\n\toverride update() {\r\n\t\tif (this.scene?.gameOver) return;\r\n\t}\r\n\r\n\toverride destroy() {\r\n\t\tthis.tween?.destroy();\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n", "import Fireball from './fireball.ts';\r\nimport Bubble from './bubble.ts';\r\nimport Game from '../scenes/game.ts';\r\n\r\nexport default class Wizard extends Phaser.Physics.Matter.Sprite {\r\n    declare scene: Game;\r\n    label: string;\r\n    startX: number;\r\n    direction: number;\r\n    timer!: Phaser.Time.TimerEvent;\r\n    delayedTurn?: Phaser.Time.TimerEvent;\r\n    fireball?: Fireball;\r\n\r\n\tconstructor(scene: Phaser.Scene, x: number, y: number, texture = 'wizard', _ground?: Phaser.Tilemaps.TilemapLayer) {\r\n\t\tsuper(scene.matter.world, x, y, texture, 0);\r\n\t\tthis.label = 'wizard';\r\n\t\tthis.scene.add.existing(this);\r\n\t\tthis.startX = x;\r\n\t\tthis.direction = Phaser.Math.RND.pick([-1, 1]);\r\n\r\n\t\tthis.setFixedRotation();\r\n\t\tthis.addCollisions();\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/*\r\nThis function inits the wizard. It creates the animations and the update event. Also, we create a timer that will be used to shoot the fireballs.\r\n  */\r\n\tinit() {\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: this.label,\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 5,\r\n\t\t\t}),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\r\n\t\tthis.anims.play(this.label, true);\r\n\t\tthis.scene.events.on('update', this.update, this);\r\n\t\tthis.timer = this.scene.time.addEvent({\r\n\t\t\tdelay: 3000,\r\n\t\t\tcallback: this.directShot,\r\n\t\t\tcallbackScope: this,\r\n\t\t\tloop: true,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\nAs we did with the player and the bat, we create this callback to handle the collision with the bubble.\r\n  */\r\n\taddCollisions() {\r\n\t\t// this.unsubscribeBatCollide = this.scene.matterCollision.addOnCollideStart({\r\n\t\t// \tobjectA: this,\r\n\t\t// \tcallback: this.onWizardCollide,\r\n\t\t// \tcontext: this,\r\n\t\t// });\r\n\t}\r\n\r\n\t/*\r\nThis will be called when the bubble hits the wizard. We \"load\" the wizard inside the bubble and destroy the wizard.\r\n  */\r\n\tonWizardCollide({ gameObjectA, gameObjectB }) {\r\n\t\tif (gameObjectB instanceof Bubble) {\r\n\t\t\tgameObjectB.load('wizard');\r\n\t\t\tthis.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\nThe wizard will try to shoot directly at the player. It will shoot a fireball and then turn around.\r\n  */\r\n\tdirectShot() {\r\n\t\tthis.scene.playAudio('fireball');\r\n\t\tconst distance = Phaser.Math.Distance.BetweenPoints(\r\n\t\t\tthis.scene.player as any,\r\n\t\t\tthis,\r\n\t\t);\r\n\t\tthis.anims.play('wizardshot', true);\r\n\t\tconst fireball = new Fireball(this.scene, this.x, this.y, this.direction);\r\n\t\tthis.delayedTurn = this.scene.time.delayedCall(\r\n\t\t\t1000,\r\n\t\t\t() => {\r\n\t\t\t\tthis.turn();\r\n\t\t\t},\r\n\t\t\tundefined,\r\n\t\t\tthis,\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n  This method takes care of turning the wizard around.\r\n  */\r\n\tturn() {\r\n\t\tthis.direction = -this.direction;\r\n\t\tthis.flipX = this.direction > 0;\r\n\t\tthis.setFlipX(this.direction > 0);\r\n\t\tthis.setVelocityX(this.direction * 5);\r\n\t}\r\n\r\n\t/*\r\nThis will be called when the wizard is destroyed. We destroy the timer and the delayed turn before destroying the wizard.\r\n  */\r\n\toverride destroy() {\r\n\t\tif (this.timer) this.timer.destroy();\r\n\t\tif (this.delayedTurn) this.delayedTurn.destroy();\r\n\t\tif (this.fireball) this.fireball.destroy();\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n", "import Game from '../scenes/game.ts';\r\nimport Bat from './bat.ts';\r\nimport Wizard from './wizard.ts';\r\n\r\nexport default class Bubble extends Phaser.Physics.Matter.Sprite {\r\n    declare scene: Game;\r\n\toffset: number;\r\n\tstartX: number;\r\n\tstartY: number;\r\n    loaded: Phaser.GameObjects.Sprite | null = null;\r\n    loadedTween?: Phaser.Tweens.Tween;\r\n    blob?: Phaser.Tweens.Tween;\r\n\r\n\tconstructor(\r\n\t\tscene: Phaser.Scene,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\toffset: number,\r\n\t\toptions = { isStatic: true },\r\n\t) {\r\n\t\tsuper(scene.matter.world, x + offset, y, 'bubble', 0, options);\r\n\t\tthis.offset = offset;\r\n\t\tthis.setFriction(1, 0, Infinity);\r\n\t\tthis.startX = x;\r\n\t\tthis.startY = y;\r\n\t\tthis.scene = scene as Game;\r\n\t\tscene.add.existing(this);\r\n\t\tthis.moveVertically();\r\n\t\tthis.scene.events.on('update', this.update, this);\r\n\t}\r\n\r\n\t/*\r\n    This function loads the sprite that will be inside the bubble. It also creates a tween to make it rotate.\r\n  */\r\n\tload(sprite: string) {\r\n\t\tthis.scene.playAudio('trap');\r\n\t\tthis.loaded = this.scene.add\r\n\t\t\t.sprite(this.x, this.y, sprite)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScale(0.6);\r\n\t\tthis.loaded.name = sprite;\r\n\t\tthis.loadedTween = this.scene.tweens.add({\r\n\t\t\ttargets: this.loaded,\r\n\t\t\trotation: '+=5',\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method moves the bubble horizontally. It happens when the bubble is launched.\r\n  */\r\n\tmoveHorizontally() {\r\n\t\tthis.scene.tweens.add({\r\n\t\t\ttargets: this,\r\n\t\t\tscaleX: { from: 1, to: 0.9 },\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t\tduration: 200,\r\n\t\t});\r\n\t\tthis.scene.tweens.addCounter({\r\n\t\t\tfrom: 0,\r\n\t\t\tto: Phaser.Math.Between(-400, 400),\r\n\t\t\tduration: 3500,\r\n\t\t\tease: Phaser.Math.Easing.Sine.InOut,\r\n\t\t\tonUpdate: (tween, target) => {\r\n\t\t\t\tconst x = this.startX + target.value;\r\n\t\t\t\tconst dx = x - this.x;\r\n\t\t\t\tthis.x = x;\r\n\t\t\t\tthis.setVelocityX(dx);\r\n\t\t\t},\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.scene.time.delayedCall(\r\n\t\t\t\t\t1000,\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tthis,\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This one moves the bubble vertically. It moves the bubble with a tween and then it destroys it.\r\n  */\r\n\tmoveVertically() {\r\n\t\tthis.blob = this.scene.tweens.add({\r\n\t\t\ttargets: this,\r\n\t\t\tscaleX: { from: 1, to: 0.9 },\r\n\t\t\tyoyo: true,\r\n\t\t\trepeat: -1,\r\n\t\t\tduration: 200,\r\n\t\t});\r\n\t\tthis.scene.tweens.addCounter({\r\n\t\t\tfrom: 0,\r\n\t\t\tto: -300,\r\n\t\t\tduration: 4500,\r\n\t\t\tease: Phaser.Math.Easing.Sine.InOut,\r\n\t\t\tonUpdate: (tween, target) => {\r\n\t\t\t\tconst y = this.startY + target.value;\r\n\t\t\t\tconst dy = y - this.y;\r\n\t\t\t\tthis.y = y;\r\n\t\t\t\tthis.setVelocityY(dy);\r\n\t\t\t},\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.blob?.destroy();\r\n\t\t\t\tthis.scene.time.delayedCall(\r\n\t\t\t\t\t1000,\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tthis,\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    When a bubble is destroyed, we respawn the sprite that was inside it, setting it free.\r\n  */\r\n\trespawn() {\r\n\t\tthis.loadedTween?.destroy();\r\n\t\tif (this.loaded?.name === 'wizard') {\r\n\t\t\tnew Wizard(this.scene, this.x, this.y);\r\n\t\t} else if (this.loaded?.name === 'bat') {\r\n\t\t\tnew Bat(this.scene, this.x, this.y);\r\n\t\t}\r\n\t\tthis.loaded?.destroy();\r\n\t\tthis.loaded = null;\r\n\t}\r\n\r\n\t/*\r\n    We update the position of the sprite that was inside the bubble.\r\n  */\r\n\toverride update() {\r\n\t\tif (!this.active) return;\r\n\t\tif (this.loaded) {\r\n\t\t\tthis.loaded.x = this.x;\r\n\t\t\tthis.loaded.y = this.y;\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    This is called when the bubble is destroyed. We play the crash sound and respawn the sprite that was inside it and finally we actually destroy the bubble game object.\r\n  */\r\n\toverride destroy() {\r\n\t\tif (!this.scene) return;\r\n\t\tthis.scene.playAudio('crash');\r\n\t\tif (this.loaded) this.respawn();\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n", "export default class Dust extends Phaser.GameObjects.Sprite {\r\n\r\n\tconstructor(scene: Phaser.Scene, x: number, y: number, name = 'dust', tween = false) {\r\n\t\tsuper(scene, x, y, name);\r\n\t\tthis.scene = scene;\r\n\t\tthis.name = name;\r\n\t\tthis.setScale(0.5);\r\n\t\tthis.scene.add.existing(this);\r\n\t\tthis.init(tween);\r\n\t}\r\n\r\n\t/*\r\n    This dust is a simple sprite that plays an animation and then destroys itself. It's used when the player lands, slides on a wall, or jumps. We can optionally add a tween to make it fade out.\r\n  */\r\n\tinit(tween: boolean) {\r\n\t\tif (tween) {\r\n\t\t\tthis.scene.tweens.add({\r\n\t\t\t\ttargets: this,\r\n\t\t\t\tduration: Phaser.Math.Between(500, 1000),\r\n\t\t\t\talpha: { from: 1, to: 0 },\r\n\t\t\t\tonComplete: () => {\r\n\t\t\t\t\tthis.destroy();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: this.name,\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.name, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 10,\r\n\t\t\t}),\r\n\t\t\tframeRate: 10,\r\n\t\t});\r\n\t\tthis.on('animationcomplete', this.animationComplete, this);\r\n\t\tthis.anims.play(this.name, true);\r\n\t}\r\n\r\n\tanimationComplete() {\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n", "import Game from '../scenes/game.ts';\r\nimport Bubble from './bubble.ts';\r\nimport Dust from './particle.ts';\r\n\r\nexport default class Player {\r\n\tdeclare scene: Game;\r\n    label: string;\r\n    moveForce: number;\r\n    invincible: boolean;\r\n    isTouching: { left: boolean, right: boolean, ground: boolean };\r\n    canJump: boolean;\r\n    jumpCooldownTimer: Phaser.Time.TimerEvent | null;\r\n    canShoot: boolean;\r\n    shootCooldownTimer: Phaser.Time.TimerEvent | null;\r\n    onWall: boolean;\r\n    sprite!: Phaser.Physics.Matter.Sprite;\r\n    sensors!: { bottom: any, left: any, right: any };\r\n    cursor!: Phaser.Types.Input.Keyboard.CursorKeys;\r\n    W!: Phaser.Input.Keyboard.Key;\r\n    A!: Phaser.Input.Keyboard.Key;\r\n    S!: Phaser.Input.Keyboard.Key;\r\n    D!: Phaser.Input.Keyboard.Key;\r\n    isOnGround: boolean = false;\r\n    isInAir: boolean = false;\r\n    destroyed: boolean = false;\r\n    \r\n    constructor(scene: Phaser.Scene, x: number, y: number) {\r\n\t\tthis.scene = scene as Game;\r\n\t\tthis.label = 'player';\r\n\t\tthis.moveForce = 0.01;\r\n\t\tthis.invincible = true;\r\n\t\tthis.isTouching = { left: false, right: false, ground: false };\r\n\t\tthis.canJump = true;\r\n\t\tthis.jumpCooldownTimer = null;\r\n\t\tthis.canShoot = true;\r\n\t\tthis.shootCooldownTimer = null;\r\n\t\tthis.onWall = false;\r\n\t\tthis.init(x, y);\r\n\t\tthis.addControls();\r\n\t}\r\n\r\n\t/*\r\n    The init method is called from the constructor and in this case, it has several jobs. This is just a conventional class that contains a compound body: it consists of different bodies for the player, and we need to add them to the Matter world. We also need to add the player sprite to the scene and set up the animations. Finally, we need to add the colliders and events that will be used to control the player. If you set the debug to true you'll see the different bodies that make up the player. The ones on the sides it's used to detect collisions with walls and be able to climb up.\r\n  */\r\n\tinit(x: number, y: number) {\r\n\t\t// Before Matter's update,\r\n\t\t// reset our record of what surfaces the player is touching.\r\n\t\tthis.scene.matter.world.on('beforeupdate', this.resetTouching, this);\r\n\t\tthis.sprite = this.scene.matter.add.sprite(0, 0, 'player', 0);\r\n\r\n\t\t// Native Matter modules\r\n\t\t// const { Body, Bodies } = Phaser.Physics.Matter.Matter;\r\n\t\tconst { width: w, height: h } = this.sprite;\r\n\r\n\t\t// const mainBody = Bodies.rectangle(0, 5, w - 14, h - 10, {\r\n\t\t// \tchamfer: { radius: 10 },\r\n\t\t// });\r\n\t\t// this.sensors = {\r\n\t\t// \tbottom: Bodies.rectangle(0, h * 0.5, w * 0.25, 2, { isSensor: true }),\r\n\t\t// \tleft: Bodies.rectangle(-w * 0.35, 0, 2, h * 0.5, { isSensor: true }),\r\n\t\t// \tright: Bodies.rectangle(w * 0.35, 0, 2, h * 0.5, { isSensor: true }),\r\n\t\t// };\r\n\t\t// const compoundBody = Body.create({\r\n\t\t// \tparts: [\r\n\t\t// \t\tmainBody,\r\n\t\t// \t\tthis.sensors.bottom,\r\n\t\t// \t\tthis.sensors.left,\r\n\t\t// \t\tthis.sensors.right,\r\n\t\t// \t],\r\n\t\t// \tfrictionStatic: 0,\r\n\t\t// \tfrictionAir: 0.02,\r\n\t\t// \tfriction: 0.1,\r\n\t\t// \trender: { sprite: { xOffset: 0.5, yOffset: 0.5 } },\r\n\t\t// });\r\n\t\t// this.sprite\r\n\t\t// \t.setExistingBody(compoundBody)\r\n\t\t// \t.setFixedRotation()\r\n\t\t// \t// Sets inertia to infinity so the player can't rotate\r\n\t\t// \t.setPosition(x, y);\r\n\r\n\t\tthis.addEvents();\r\n\t\tthis.addColliders();\r\n\t\tthis.addAnimations();\r\n\t\tthis.initInvincible();\r\n\t}\r\n\r\n\t/*\r\n    We attach this class to the scene events, so we can update the player on every frame. We also add the destroy method to the scene events, so we can clean up the player when the scene is destroyed.\r\n  */\r\n\taddEvents() {\r\n\t\tthis.scene.events.on('update', this.update, this);\r\n\t\tthis.scene.events.once('shutdown', this.destroy, this);\r\n\t\tthis.scene.events.once('destroy', this.destroy, this);\r\n\t}\r\n\r\n\t/*\r\n    These are the collider events that will be used to control the player. We use the MatterCollision plugin to detect collisions between the player and the walls. We also use the onSensorCollide method to detect collisions with the sensors that we added to the player. This is used to detect collisions with the walls and the ground.\r\n  */\r\n\taddColliders() {\r\n\t\t// this.scene.matterCollision.addOnCollideStart({\r\n\t\t// \tobjectA: [this.sensors.bottom, this.sensors.left, this.sensors.right],\r\n\t\t// \tcallback: this.onSensorCollide,\r\n\t\t// \tcontext: this,\r\n\t\t// });\r\n\t\t// this.scene.matterCollision.addOnCollideActive({\r\n\t\t// \tobjectA: [this.sensors.bottom, this.sensors.left, this.sensors.right],\r\n\t\t// \tcallback: this.onSensorCollide,\r\n\t\t// \tcontext: this,\r\n\t\t// });\r\n\t}\r\n\r\n\t/*\r\n    These define the different animation states to the player: idle, walking, shooting, etc.\r\n  */\r\n\taddAnimations() {\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: 'playeridle',\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 1,\r\n\t\t\t}),\r\n\t\t\tframeRate: 5,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: 'playerwalk',\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 3,\r\n\t\t\t}),\r\n\t\t\tframeRate: 6,\r\n\t\t});\r\n\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: 'playershot',\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 4,\r\n\t\t\t\tend: 5,\r\n\t\t\t}),\r\n\t\t\tframeRate: 4,\r\n\t\t});\r\n\t\tthis.sprite.anims.play('playeridle', true);\r\n\t\tthis.sprite.on('animationcomplete', this.animationComplete, this);\r\n\t}\r\n\r\n\t/*\r\n    When the player is just created, it's invincible for a short time. This is done by a flag and changing the alpha of the sprite, so it blinks.\r\n  */\r\n\tinitInvincible() {\r\n\t\tthis.scene.tweens.add({\r\n\t\t\ttargets: this.sprite,\r\n\t\t\talpha: { from: 0.5, to: 1 },\r\n\t\t\tduration: 200,\r\n\t\t\trepeat: 10,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.invincible = false;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This is the method that is called when the player collides with something. We use it to detect collisions with the walls and the ground. We also use it to detect collisions with the sensors that we added to the player. This is used to detect collisions with the walls and the ground.\r\n  */\r\n\tonSensorCollide({ bodyA, bodyB, pair }) {\r\n\t\t// We only care about collisions with physical objects\r\n\t\tif (bodyB.isSensor) return;\r\n\t\tif (bodyA === this.sensors.left) {\r\n\t\t\tthis.friction();\r\n\t\t\tthis.onWall = true;\r\n\t\t\tthis.isTouching.left = true;\r\n\t\t\tif (pair.separation > 0.5) this.sprite.x += pair.separation - 0.5;\r\n\t\t} else if (bodyA === this.sensors.right) {\r\n\t\t\tthis.friction();\r\n\t\t\tthis.onWall = true;\r\n\t\t\tthis.isTouching.right = true;\r\n\t\t\tif (pair.separation > 0.5) this.sprite.x -= pair.separation - 0.5;\r\n\t\t} else if (bodyA === this.sensors.bottom) {\r\n\t\t\tthis.land();\r\n\t\t\tthis.isTouching.ground = true;\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    This is used to reset the isTouching flags so we can determine if the player is on the ground or not.\r\n  */\r\n\tresetTouching() {\r\n\t\tthis.isTouching.left = false;\r\n\t\tthis.isTouching.right = false;\r\n\t\tthis.isTouching.ground = false;\r\n\t}\r\n\r\n\t/*\r\n    This is used to add the controls to the player: WASD and arrows. We use the cursor keys to move the player and shoot bubbles.\r\n  */\r\n\taddControls() {\r\n        if(!this.scene.input.keyboard) throw(\"Unable to get keyboard input\");\r\n\t\tthis.cursor = this.scene.input.keyboard.createCursorKeys();\r\n\t\tthis.W = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\r\n\t\tthis.A = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\r\n\t\tthis.S = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\r\n\t\tthis.D = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\r\n\t}\r\n\r\n\t/*\r\n    This is the game loop for the player. This is called on every frame. We check the input and move the player accordingly. We also check if the player is on the ground or not, and if it is, we allow it to jump. We also check if the player is in the air and touching a wall, so we can allow it to climb up.\r\n  */\r\n\tupdate() {\r\n\t\tthis.isOnGround = this.isTouching.ground;\r\n\t\tthis.isInAir = !this.isOnGround;\r\n\t\tthis.moveForce = this.isOnGround ? 0.01 : 0.005;\r\n\r\n\t\tif (this.D.isDown || this.cursor.right.isDown) {\r\n\t\t\tthis.sprite.setFlipX(true);\r\n\t\t\tif (!(this.isInAir && this.isTouching.right)) {\r\n\t\t\t\tthis.step();\r\n\t\t\t\tthis.sprite.anims.play('playerwalk', true);\r\n\t\t\t\tthis.sprite.setVelocityX(5);\r\n\t\t\t}\r\n\t\t} else if (this.A.isDown || this.cursor.left.isDown) {\r\n\t\t\tthis.sprite.setFlipX(false);\r\n\t\t\tif (!(this.isInAir && this.isTouching.left)) {\r\n\t\t\t\tthis.step();\r\n\t\t\t\tthis.sprite.anims.play('playerwalk', true);\r\n\t\t\t\tthis.sprite.setVelocityX(-5);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.sprite.anims.currentAnim?.key !== 'playershot') {\r\n\t\t\t\tthis.sprite.anims.play('playeridle', true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.sprite.body && this.sprite.body.velocity.x > 7) this.sprite.setVelocityX(7);\r\n\t\telse if (this.sprite.body && this.sprite.body.velocity.x < -7) this.sprite.setVelocityX(-7);\r\n\r\n\t\tthis.checkJump();\r\n\t\tthis.checkShoot();\r\n\t}\r\n\r\n\t/*\r\n    If the player is jumping, we add a cooldown timer so it can't jump again until it touches the ground.\r\n  */\r\n\tcheckJump() {\r\n\t\tif (\r\n\t\t\t((this.canJump && this.isOnGround) || this.onWall) &&\r\n\t\t\t(this.W.isDown || this.cursor.up.isDown)\r\n\t\t) {\r\n\t\t\tthis.sprite.setVelocityY(-8);\r\n\t\t\tthis.scene.playAudio('jump');\r\n\t\t\tthis.canJump = false;\r\n\t\t\tthis.onWall = false;\r\n\t\t\tthis.jumpCooldownTimer = this.scene.time.addEvent({\r\n\t\t\t\tdelay: 250,\r\n\t\t\t\tcallback: () => (this.canJump = true),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    Same as we did with the jump, here we add a cooldown timer to the shooting so the player can't shoot again until the cooldown is over.\r\n  */\r\n\tcheckShoot() {\r\n\t\tif (\r\n\t\t\tthis.canShoot &&\r\n\t\t\t(Phaser.Input.Keyboard.JustDown(this.cursor.down) ||\r\n\t\t\t\tPhaser.Input.Keyboard.JustDown(this.W))\r\n\t\t) {\r\n\t\t\tconst offset = this.sprite.flipX ? 128 : -128;\r\n\t\t\tthis.sprite.anims.play('playershot', true);\r\n\t\t\tthis.scene.playAudio('bubble');\r\n\t\t\tthis.canShoot = false;\r\n\t\t\tnew Bubble(this.scene, this.sprite.x, this.sprite.y, offset);\r\n\t\t\tthis.shootCooldownTimer = this.scene.time.addEvent({\r\n\t\t\t\tdelay: 500,\r\n\t\t\t\tcallback: () => (this.canShoot = true),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    When the player is killed, apart from destroying the sprite, we also remove the events and colliders that we added to it.\r\n  */\r\n\tdestroy() {\r\n\t\tthis.scene.playAudio('death');\r\n\t\tthis.destroyed = true;\r\n\r\n\t\tthis.scene.events.off('update', this.update, this);\r\n\t\tthis.scene.events.off('shutdown', this.destroy, this);\r\n\t\tthis.scene.events.off('destroy', this.destroy, this);\r\n\t\tif (this.scene.matter.world) {\r\n\t\t\tthis.scene.matter.world.off('beforeupdate', this.resetTouching, this);\r\n\t\t}\r\n\r\n\t\tconst sensors = [\r\n\t\t\tthis.sensors.bottom,\r\n\t\t\tthis.sensors.left,\r\n\t\t\tthis.sensors.right,\r\n\t\t];\r\n\t\t// this.scene.matterCollision.removeOnCollideStart({ objectA: sensors });\r\n\t\t// this.scene.matterCollision.removeOnCollideActive({ objectA: sensors });\r\n\r\n\t\tif (this.jumpCooldownTimer) this.jumpCooldownTimer.destroy();\r\n\r\n\t\tthis.sprite.destroy();\r\n\t}\r\n\r\n\t/*\r\nEvery time the player moves, we add a few dust particles to the scene. This is done by creating a new Dust object. The same happens when the player is on the wall or landing after a jump. Probably there's a good chance to refactor this but in this particular case, for a couple of lines maybe it's not worth it.\r\n  */\r\n\tstep() {\r\n\t\tif (Phaser.Math.Between(0, 5) > 4) {\r\n\t\t\tthis.scene.trailLayer.add(\r\n\t\t\t\tnew Dust(\r\n\t\t\t\t\tthis.scene,\r\n\t\t\t\t\tthis.sprite.x,\r\n\t\t\t\t\tthis.sprite.y + Phaser.Math.Between(10, 16),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tfriction() {\r\n\t\tArray(Phaser.Math.Between(2, 4))\r\n\t\t\t.fill(0)\r\n\t\t\t.forEach((i) => {\r\n\t\t\t\tnew Dust(\r\n\t\t\t\t\tthis.scene,\r\n\t\t\t\t\tthis.sprite.x + Phaser.Math.Between(-8, 8),\r\n\t\t\t\t\tthis.sprite.y + Phaser.Math.Between(-32, 32),\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t}\r\n\r\n\tland() {\r\n\t\tif (this.sprite.body && this.sprite.body.velocity.y < 1) return;\r\n\t\tArray(Phaser.Math.Between(3, 6))\r\n\t\t\t.fill(0)\r\n\t\t\t.forEach((i) => {\r\n\t\t\t\tnew Dust(\r\n\t\t\t\t\tthis.scene,\r\n\t\t\t\t\tthis.sprite.x + Phaser.Math.Between(-32, 32),\r\n\t\t\t\t\tthis.sprite.y + Phaser.Math.Between(10, 16),\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This is called when the player dies, creating an explosion of dust particles.\r\n    */\r\n\texplosion() {\r\n\t\tArray(Phaser.Math.Between(10, 15))\r\n\t\t\t.fill(0)\r\n\t\t\t.forEach((i) => {\r\n\t\t\t\tnew Dust(\r\n\t\t\t\t\tthis.scene,\r\n\t\t\t\t\tthis.sprite.x + Phaser.Math.Between(-32, 32),\r\n\t\t\t\t\tthis.sprite.y + Phaser.Math.Between(20, 36),\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This is called when the player finishes the shooting animation. We use it to play the idle animation again.\r\n  */\r\n\tanimationComplete(animation: Phaser.Animations.Animation, frame: Phaser.Animations.AnimationFrame) {\r\n\t\tif (animation.key === 'playershot') {\r\n\t\t\tthis.sprite.anims.play('playeridle', true);\r\n\t\t}\r\n\t}\r\n}\r\n", "import Dungeon from 'https://esm.sh/@mikewesthad/dungeon@2.0.1/es2022/dungeon.mjs';\r\nimport Coin from './coin.ts';\r\nimport Key from './key.ts';\r\nimport Bat from './bat.ts';\r\nimport Wizard from './wizard.ts';\r\nimport SeeSaw from './seesaw.ts';\r\n\r\nexport default class DungeonGenerator {\r\n    scene: Phaser.Scene;\r\n    dungeon: any;\r\n    map!: Phaser.Tilemaps.Tilemap;\r\n    groundLayer!: Phaser.Tilemaps.TilemapLayer;\r\n    stuffLayer!: Phaser.Tilemaps.TilemapLayer;\r\n\r\n\tconstructor(scene: Phaser.Scene) {\r\n\t\tthis.scene = scene;\r\n\t\tthis.generate();\r\n\t}\r\n\r\n\t/*\r\n    This is the method that generates the whole dungeon. It's divided into different methods to make it more readable but basically, it generates the dungeon, and the map and then it places the different elements on the map.\r\n  */\r\n\tgenerate() {\r\n\t\tthis.generateDungeon();\r\n\t\tthis.generateMap();\r\n\t\t// Watch the player and layer for collisions, for the duration of the scene:\r\n\t\t//this.physics.add.collider(this.player.sprite, layer);\r\n\r\n\t\tthis.dungeon.rooms.forEach((room:any) => {\r\n\t\t\t// These room properties are all in grid units (not pixels units)\r\n\t\t\tconst { x, y, width, height } = room;\r\n\t\t\t// Fill the room (minus the walls) with mostly clean floor tiles (90% of the time), but\r\n\t\t\t// occasionally place a dirty tile (10% of the time).\r\n\t\t\tthis.groundLayer.weightedRandomize(\r\n\t\t\t\t[\r\n\t\t\t\t\t{ index: 17, weight: 9 }, // 9/10 times, use index 6\r\n\t\t\t\t\t{ index: [7, 8, 9, 17, 18, 19], weight: 1 }, // 1/10 times, randomly pick 7, 8 or 26\r\n\t\t\t\t],\r\n\t\t\t\tx + 1,\r\n\t\t\t\ty + 1,\r\n\t\t\t\twidth - 2,\r\n\t\t\t\theight - 2,\r\n\t\t\t);\r\n\r\n\t\t\tthis.placeCorners(room);\r\n\t\t\tthis.placeWalls(room);\r\n\r\n\t\t\tconst doors = room.getDoorLocations(); // Returns an array of {x, y} objects\r\n\t\t\tthis.addDoors(room, doors, x, y);\r\n\t\t\tthis.addKey(room);\r\n\t\t\tthis.addFoes(room);\r\n\t\t\tthis.addCoins(room);\r\n\t\t\tthis.addSeeSaw(room);\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method generates the dungeon using the dungeon generator library. We just need to pass the width and height of the dungeon and some options. You can check the documentation of the library to see all the options available.\r\n  */\r\n\tgenerateDungeon() {\r\n\t\tthis.dungeon = new Dungeon({\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50,\r\n\t\t\tdoorPadding: 2,\r\n\t\t\trooms: {\r\n\t\t\t\twidth: { min: 7, max: 15 },\r\n\t\t\t\theight: { min: 7, max: 15 },\r\n\t\t\t\tmaxRooms: 12,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method adds a specific tilemap to our dungeon, with its layers and collisions.\r\n  */\r\n\tgenerateMap() {\r\n\t\tthis.map = this.scene.make.tilemap({\r\n\t\t\ttileWidth: 48,\r\n\t\t\ttileHeight: 48,\r\n\t\t\twidth: this.dungeon.width,\r\n\t\t\theight: this.dungeon.height,\r\n\t\t});\r\n\t\tconst tileset = this.map.addTilesetImage('tiles', undefined, 48, 48, 0, 0); // 1px margin, 2px spacing\r\n        if(!tileset) throw(\"Unable to create tileset\");\r\n\t\tthis.groundLayer = this.map.createBlankLayer('Layer 1', tileset) ?? (()=> {throw new Error('');})();\r\n\t\tthis.stuffLayer = this.map.createBlankLayer('Stuff', tileset) ?? (()=> {throw new Error('');})();\r\n\r\n\t\t// Get a 2D array of tile indices (using -1 to not render empty tiles) and place them into the\r\n\t\t// blank layer\r\n\t\tconst mappedTiles = this.dungeon.getMappedTiles({\r\n\t\t\tempty: -1,\r\n\t\t\tfloor: -1,\r\n\t\t\tdoor: 3,\r\n\t\t\twall: 0,\r\n\t\t});\r\n\t\tthis.groundLayer.putTilesAt(mappedTiles, 0, 0);\r\n\t\tthis.groundLayer.setCollision(0);\r\n\t\tthis.groundLayer.setCollisionByProperty({ collides: true });\r\n\t\tthis.groundLayer && this.scene.matter.world.convertTilemapLayer(this.groundLayer);\r\n\t}\r\n\r\n\t/*\r\n    This method places the corners of the room. We use the tile index to place the corner tiles.\r\n  */\r\n\tplaceCorners(room: {left: number, right: number, top: number, bottom: number, width: number, height: number}) {\r\n\t\tconst { left, right, top, bottom } = room;\r\n\t\tthis.groundLayer.putTileAt(0, left, top);\r\n\t\tthis.groundLayer.putTileAt(5, right, top);\r\n\t\tthis.groundLayer.putTileAt(45, right, bottom);\r\n\t\tthis.groundLayer.putTileAt(40, left, bottom);\r\n\t}\r\n\r\n\t/*\r\n    This method places the walls of the room. We use the tile index to place the wall tiles. It uses a weighted randomize method to place the tiles which means that we can give more weight (frequency) to some tiles than others.\r\n  */\r\n\tplaceWalls(room: {left: number, right: number, top: number, bottom: number, width: number, height: number}) {\r\n\t\tconst { width, height, left, right, top, bottom } = room;\r\n\t\tthis.groundLayer?.weightedRandomize(\r\n\t\t\t[\r\n\t\t\t\t{ index: 2, weight: 4 },\r\n\t\t\t\t{ index: [1, 2, 3, 4], weight: 1 },\r\n\t\t\t],\r\n\t\t\tleft + 1,\r\n\t\t\ttop,\r\n\t\t\twidth - 2,\r\n\t\t\t1,\r\n\t\t);\r\n\t\tthis.groundLayer?.weightedRandomize(\r\n\t\t\t[\r\n\t\t\t\t{ index: 42, weight: 4 },\r\n\t\t\t\t{ index: [41, 42, 43, 44], weight: 1 },\r\n\t\t\t],\r\n\t\t\tleft + 1,\r\n\t\t\tbottom,\r\n\t\t\twidth - 2,\r\n\t\t\t1,\r\n\t\t);\r\n\t\tthis.groundLayer?.weightedRandomize(\r\n\t\t\t[\r\n\t\t\t\t{ index: 10, weight: 4 },\r\n\t\t\t\t{ index: [10, 20, 30], weight: 1 },\r\n\t\t\t],\r\n\t\t\tleft,\r\n\t\t\ttop + 1,\r\n\t\t\t1,\r\n\t\t\theight - 2,\r\n\t\t);\r\n\t\tthis.groundLayer?.weightedRandomize(\r\n\t\t\t[\r\n\t\t\t\t{ index: 15, weight: 4 },\r\n\t\t\t\t{ index: [15, 25, 35], weight: 1 },\r\n\t\t\t],\r\n\t\t\tright,\r\n\t\t\ttop + 1,\r\n\t\t\t1,\r\n\t\t\theight - 2,\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n    As the name implies, this one adds the doors to the room. We use the tile index to place the door tiles.\r\n  */\r\n\taddDoors(room: any, doors: any, x: number, y: number) {\r\n\t\tfor (let i = 0; i < doors.length; i++) {\r\n\t\t\tconst worldPosition = this.groundLayer?.tileToWorldXY(\r\n\t\t\t\tx + doors[i].x,\r\n\t\t\t\ty + doors[i].y,\r\n\t\t\t);\r\n            if(!worldPosition) throw(\"failed to determine worldPosition when adding doors\");\r\n\t\t\tnew Coin(this.scene, worldPosition.x + 20, worldPosition.y + 20);\r\n\t\t\tif (doors[i].y === 0) {\r\n\t\t\t\tthis.groundLayer.putTilesAt([[7], [7]], x + doors[i].x, y + doors[i].y);\r\n\t\t\t} else if (doors[i].y === room.height - 1) {\r\n\t\t\t\tthis.groundLayer.putTilesAt([[7], [7]], x + doors[i].x, y + doors[i].y);\r\n\t\t\t} else if (doors[i].x === 0) {\r\n\t\t\t\tthis.groundLayer.putTilesAt([[7]], x + doors[i].x, y + doors[i].y);\r\n\t\t\t} else if (doors[i].x === room.width - 1) {\r\n\t\t\t\tthis.groundLayer.putTilesAt([[7]], x + doors[i].x, y + doors[i].y);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    Each room must have a key that the player has to collect. This method adds the key to the room.\r\n  */\r\n\taddKey(room: {left: number, right: number, top: number, bottom: number, width: number, height: number}) {\r\n\t\tconst keyX = Phaser.Math.Between(room.left + 2, room.right - 2);\r\n\t\tconst keyY = Phaser.Math.Between(room.top + 2, room.bottom - 2);\r\n\t\tconst worldPosition = this.groundLayer.tileToWorldXY(keyX, keyY);\r\n\t\tnew Key(this.scene, worldPosition.x + 22, worldPosition.y + 22);\r\n\t}\r\n\r\n\t/*\r\n    Randomly, some rooms may have a seesaw. This method adds the seesaw to the center of the room.\r\n  */\r\n\taddSeeSaw(room: {left: number, right: number, top: number, bottom: number, width: number, height: number, centerX: number, centerY: number}) {\r\n\t\tif (Phaser.Math.Between(0, 10) < 7) return;\r\n\t\tconst worldPosition = this.groundLayer?.tileToWorldXY(\r\n\t\t\troom.centerX,\r\n\t\t\troom.centerY,\r\n\t\t);\r\n        if(!worldPosition) throw(\"Failed to get worldPosition when adding SeeSaw\");\r\n\t\tnew SeeSaw(\r\n\t\t\tthis.scene,\r\n\t\t\tworldPosition.x + 22,\r\n\t\t\tworldPosition.y + 22,\r\n\t\t\troom.width,\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n    Coins are randomly placed in the room. We use a random method to decide where to place the coins. It uses other helper methods to place the coins in different positions.\r\n  */\r\n\taddCoins(room: {left: number, right: number, top: number, bottom: number, width: number, height: number}) {\r\n\t\tconst where = Phaser.Math.RND.pick([\r\n\t\t\t'top',\r\n\t\t\t'bottom',\r\n\t\t\t'left',\r\n\t\t\t'right',\r\n\t\t\t'none',\r\n\t\t]);\r\n\t\t// const width = parseInt(room.width / 3) - Phaser.Math.Between(1, 2);\r\n\t\t// const height = parseInt(room.height / 3) - Phaser.Math.Between(1, 2);\r\n\t\tconst width = parseInt(room.width / 3+\"\") - Phaser.Math.Between(1, 2);\r\n\t\tconst height = parseInt(room.height / 3+\"\") - Phaser.Math.Between(1, 2);\r\n\t\tswitch (where) {\r\n\t\t\tcase 'top':\r\n\t\t\t\tthis.addCoinsTop(room, width, height);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tthis.addCoinsdBottom(room, width, height);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tthis.addCoinsdLeft(room, width, height);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tthis.addCoinsRight(room, width, height);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\taddCoinsTop(room: any, width: number, height: number) {\r\n\t\tconst keyY = room.top + Phaser.Math.Between(1, 2);\r\n\t\tconst keyX = room.left + Phaser.Math.Between(1, 2);\r\n\r\n\t\tArray(width)\r\n\t\t\t.fill(undefined)\r\n\t\t\t.forEach((_x, i) => {\r\n\t\t\t\tArray(height)\r\n\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t.forEach((y, j) => {\r\n\t\t\t\t\t\tconst worldPosition = this.groundLayer.tileToWorldXY(\r\n\t\t\t\t\t\t\tkeyX + i,\r\n\t\t\t\t\t\t\tkeyY + j,\r\n\t\t\t\t\t\t);\r\n                        if(!worldPosition) throw(\"Failed to get worldPosition\")\r\n\t\t\t\t\t\tnew Coin(this.scene, worldPosition.x + 20, worldPosition.y + 20);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\taddCoinsdBottom(room:any, width: number, height: number) {\r\n\t\tconst keyY = room.bottom - Phaser.Math.Between(1, 2);\r\n\t\tconst keyX = room.left + Phaser.Math.Between(1, 2);\r\n\r\n\t\tArray(width)\r\n\t\t\t.fill(undefined)\r\n\t\t\t.forEach((_x, i) => {\r\n\t\t\t\tArray(height)\r\n\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t.forEach((_y, j) => {\r\n\t\t\t\t\t\tconst worldPosition = this.groundLayer.tileToWorldXY(\r\n\t\t\t\t\t\t\tkeyX + i,\r\n\t\t\t\t\t\t\tkeyY - j,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tnew Coin(this.scene, worldPosition.x + 20, worldPosition.y + 20);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\taddCoinsdLeft(room:any, width: number, height: number) {\r\n\t\tconst keyY = room.top + Phaser.Math.Between(3, 4);\r\n\t\tconst keyX = room.left + Phaser.Math.Between(1, 2);\r\n\r\n\t\tArray(width)\r\n\t\t\t.fill(undefined)\r\n\t\t\t.forEach((_x, i) => {\r\n\t\t\t\tArray(height)\r\n\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t.forEach((_y, j) => {\r\n\t\t\t\t\t\tconst worldPosition = this.groundLayer.tileToWorldXY(\r\n\t\t\t\t\t\t\tkeyX + i,\r\n\t\t\t\t\t\t\tkeyY - j,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tnew Coin(this.scene, worldPosition.x + 20, worldPosition.y + 20);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\taddCoinsRight(room:any, width:number, height:number) {\r\n\t\tconst keyY = room.top + Phaser.Math.Between(1, 2);\r\n\t\tconst keyX = room.right - Phaser.Math.Between(3, 4);\r\n\r\n\t\tArray(width)\r\n\t\t\t.fill(undefined)\r\n\t\t\t.forEach((_x, i) => {\r\n\t\t\t\tArray(height)\r\n\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t.forEach((_y, j) => {\r\n\t\t\t\t\t\tconst worldPosition = this.groundLayer.tileToWorldXY(\r\n\t\t\t\t\t\t\tkeyX - i,\r\n\t\t\t\t\t\t\tkeyY + j,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tnew Coin(this.scene, worldPosition.x + 20, worldPosition.y + 20);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\taddFoes(room:any) {\r\n\t\tconst keyX = Phaser.Math.Between(room.left + 2, room.right - 2);\r\n\t\tconst keyY = Phaser.Math.Between(room.top + 2, room.bottom - 2);\r\n\r\n\t\tconst worldPosition = this.groundLayer.tileToWorldXY(keyX, keyY);\r\n\r\n\t\tif (Phaser.Math.Between(0, 5) > 4) {\r\n\t\t\tnew Wizard(\r\n\t\t\t\tthis.scene,\r\n\t\t\t\tworldPosition.x + 22,\r\n\t\t\t\tworldPosition.y + 22,\r\n                undefined,\r\n\t\t\t\tthis.groundLayer\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnew Bat(\r\n\t\t\t\tthis.scene,\r\n\t\t\t\tworldPosition.x + 22,\r\n\t\t\t\tworldPosition.y + 22,\r\n                undefined,\r\n\t\t\t\tthis.groundLayer,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n    This one adds the top traps or spikes to the room. Finally is not used in the game but it's a good example of how to add more elements to the dungeon.\r\n  */\r\n\taddTopTraps(room:any) {\r\n\t\tconst { x, y, width, height, left, right, top, bottom, tiles } = room;\r\n\r\n\t\tconst topTiles = tiles[0];\r\n\t\ttopTiles.forEach((tile: any, i: number) => {\r\n\t\t\tif (tile === 1 && i > 0 && i < right) {\r\n\t\t\t\tthis.groundLayer.putTileAt(5, i + left, top + 1);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n", "export default class Coin extends Phaser.Physics.Matter.Sprite {\r\n\tlabel: string;\r\n    tween?: Phaser.Tweens.Tween;\r\n\r\n\tconstructor(\r\n\t\tscene: Phaser.Scene,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\ttexture = 'coin',\r\n\t\toptions = { isStatic: true },\r\n\t) {\r\n\t\tsuper(scene.matter.world, x, y, texture, 0, options);\r\n\t\tthis.scene = scene;\r\n\t\tthis.label = 'coin';\r\n\t\tscene.add.existing(this);\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/*\r\n    The coin animation is created and played. Also, we add a tween to make it move up and down to make it more \"desirable\".\r\n  */\r\n\tinit() {\r\n\t\tthis.scene.anims.create({\r\n\t\t\tkey: this.label,\r\n\t\t\tframes: this.scene.anims.generateFrameNumbers(this.label, {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 3,\r\n\t\t\t}),\r\n\t\t\tframeRate: 10,\r\n\t\t\trepeat: -1,\r\n\t\t});\r\n\t\tthis.anims.play(this.label, true);\r\n\t\tthis.tween = this.scene.tweens.add({\r\n\t\t\ttargets: this,\r\n\t\t\tduration: 300,\r\n\t\t\ty: '-=5',\r\n\t\t\trepeat: -1,\r\n\t\t\tyoyo: true,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    When the coin is collected, we stop the tween and destroy the coin.\r\n  */\r\n\toverride destroy() {\r\n\t\tthis.tween?.stop();\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n", "export default class key extends Phaser.Physics.Matter.Sprite {\r\n    label: string;\r\n    tween?: Phaser.Tweens.Tween;\r\n\r\n\tconstructor(scene: Phaser.Scene, x: number, y: number, texture = 'keys', options = { isStatic: true }) {\r\n\t\tsuper(\r\n\t\t\tscene.matter.world,\r\n\t\t\tx,\r\n\t\t\ty,\r\n\t\t\ttexture,\r\n\t\t\tPhaser.Math.RND.pick([0, 1]),\r\n\t\t\toptions,\r\n\t\t);\r\n\t\tthis.scene = scene;\r\n\t\tthis.label = 'keys';\r\n\t\tscene.add.existing(this);\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/*\r\n    As we did with the coin, we create the animation and add a tween to make it move up and down. We could possibly do something different here, like make it rotate. Or just reuse the same class as the coin.\r\n    */\r\n\tinit() {\r\n\t\tthis.tween = this.scene.tweens.add({\r\n\t\t\ttargets: this,\r\n\t\t\tduration: 300,\r\n\t\t\ty: '-=5',\r\n\t\t\trepeat: -1,\r\n\t\t\tyoyo: true,\r\n\t\t});\r\n\t}\r\n\r\n\toverride destroy() {\r\n\t\tthis.tween?.stop();\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n", "export default class SeeSaw {\r\n\r\n  constructor(scene: Phaser.Scene, x: number, y: number, numTiles = 5) {\r\n    const platform = scene.add.tileSprite(\r\n      x,\r\n      y,\r\n      (32 * numTiles) / 2,\r\n      18,\r\n      \"seesaw\"\r\n    );\r\n    scene.matter.add.gameObject(platform, {\r\n      restitution: 0, // No bounciness\r\n      frictionAir: 0.2, // Spin forever without slowing down from air resistance\r\n      friction: 0.2, // A little extra friction so the player sticks better\r\n      // Density sets the mass and inertia based on area - 0.001 is the default. We're going lower\r\n      // here so that the platform tips/rotates easily\r\n      density: 0.0005,\r\n    });\r\n\r\n    if(!platform.body) throw(\"\");\r\n    const constraint = scene.matter.constraint.create({\r\n      pointA: { x: platform.x, y: platform.y },\r\n      bodyB: platform.body as any,\r\n      length: 0,\r\n    });\r\n\r\n    scene.matter.world.add(constraint);\r\n    const sign = Math.random() < 0.5 ? -1 : 1;\r\n  }\r\n}", "import Player from '../gameobjects/player.ts';\r\nimport DungeonGenerator from '../gameobjects/dungeon_generator.ts';\r\nimport Coin from '../gameobjects/coin.ts';\r\nimport key from '../gameobjects/key.ts';\r\n\r\nexport default class Game extends Phaser.Scene {\r\n    player: Player | null;\r\n    score: number;\r\n    scoreText: Phaser.GameObjects.BitmapText | null;\r\n    scoreCoins!: Phaser.GameObjects.BitmapText;\r\n    scoreSeconds!: Phaser.GameObjects.BitmapText;\r\n    scoreKeys!: Phaser.GameObjects.BitmapText;\r\n    name!: string;\r\n    number!: number;\r\n    width!: number;\r\n    height!: number;\r\n    center_width!: number;\r\n    center_height!: number;\r\n    dungeon: any;\r\n    timer!: Phaser.Time.TimerEvent;\r\n    trailLayer!: Phaser.GameObjects.Layer;\r\n    audios!: Record<string, Phaser.Sound.NoAudioSound | Phaser.Sound.HTML5AudioSound | Phaser.Sound.WebAudioSound>;\r\n\tgameOver: any;\r\n\r\n\tconstructor() {\r\n\t\tsuper({ key: 'game' });\r\n\t\tthis.player = null;\r\n\t\tthis.score = 0;\r\n\t\tthis.scoreText = null;\r\n\t}\r\n\r\n\tinit(data: {name: string, number: number}) {\r\n\t\tthis.name = data.name;\r\n\t\tthis.number = data.number;\r\n\t}\r\n\r\n\tpreload() {\r\n\t\tthis.registry.set('seconds', 0);\r\n\t\tthis.registry.set('coins', 0);\r\n\t\tthis.registry.set('keys', 0);\r\n\t}\r\n\r\n\t/*\r\n    From this, we create the whole thing. We call the methods to add the map, the player, the collisions, the camera and the scores.\r\n  */\r\n\tcreate() {\r\n\t\tthis.width = +this.sys.game.config.width;\r\n\t\tthis.height = +this.sys.game.config.height;\r\n\t\tthis.center_width = this.width / 2;\r\n\t\tthis.center_height = this.height / 2;\r\n\r\n\t\tthis.addMap();\r\n\t\tthis.addPlayer();\r\n\t\tthis.addCollisions();\r\n\t\tthis.addCamera();\r\n\t\tthis.addScores();\r\n\t\tthis.loadAudios();\r\n\t}\r\n\r\n\t/*\r\n    This method creates the map using the DungeonGenerator class.\r\n  */\r\n\taddMap() {\r\n\t\tthis.dungeon = new DungeonGenerator(this);\r\n\t\tthis.input.keyboard?.on('keydown-ENTER', () => this.finishScene(), this);\r\n\t}\r\n\r\n\t/*\r\n    This method adds the scores to the scene. We add the coins, the seconds, the keys and the timer. We'll update them with other methods.\r\n  */\r\n\taddScores() {\r\n\t\tthis.add\r\n\t\t\t.sprite(62, 26, 'coin', 0)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0)\r\n\t\t\t.setScale(0.8);\r\n\t\tthis.scoreCoins = this.add\r\n\t\t\t.bitmapText(100, 24, 'default', 'x0', 15)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0);\r\n\t\tthis.scoreSeconds = this.add\r\n\t\t\t.bitmapText(this.center_width, 24, 'default', '0', 15)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0);\r\n\t\tthis.add\r\n\t\t\t.sprite(this.width - 90, 24, 'keys', 0)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0)\r\n\t\t\t.setScale(0.8);\r\n\t\tthis.scoreKeys = this.add\r\n\t\t\t.bitmapText(this.width - 48, 24, 'default', 'x0', 15)\r\n\t\t\t.setOrigin(0.5)\r\n\t\t\t.setScrollFactor(0);\r\n\t\tthis.timer = this.time.addEvent({\r\n\t\t\tdelay: 1000,\r\n\t\t\tcallback: () => {\r\n\t\t\t\tthis.updateSeconds();\r\n\t\t\t},\r\n\t\t\tcallbackScope: this,\r\n\t\t\tloop: true,\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method adds the player to the scene. It creates a new Player object along with a trail layer that will be used to draw the trail of the player.\r\n  */\r\n\taddPlayer() {\r\n\t\tthis.trailLayer = this.add.layer();\r\n\t\tthis.player = new Player(\r\n\t\t\tthis,\r\n\t\t\tthis.dungeon.map.widthInPixels / 2,\r\n\t\t\tthis.dungeon.map.heightInPixels / 2,\r\n\t\t\t// 100, \r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n  This method sets up the collisions between the player and anything else. Basically, it sets a callback function that will be called when the player collides with something.\r\n  */\r\n\taddCollisions() {\r\n\t\t// this.unsubscribePlayerCollide = this.matterCollision.addOnCollideStart({\r\n\t\t// \tobjectA: this.player?.sprite,\r\n\t\t// \tcallback: this.onPlayerCollide,\r\n\t\t// \tcontext: this,\r\n\t\t// });\r\n\r\n\t\t// this.matter.world.on('collisionstart', (event:any) => {\r\n\t\t// \tevent.pairs.forEach((pair:any) => {\r\n\t\t// \t\tconst bodyA = pair.bodyA;\r\n\t\t// \t\tconst bodyB = pair.bodyB;\r\n\t\t// \t});\r\n\t\t// });\r\n\t}\r\n\r\n\t/*\r\n  This is the callback that we call when the player collides with something. We check the label of the object that the player collides with and call the corresponding method.\r\n  */\r\n\tonPlayerCollide({ gameObjectA, gameObjectB }) {\r\n\t\tif (!gameObjectB) return;\r\n\t\tif (gameObjectB.label === 'coin') this.playerPicksCoin(gameObjectB);\r\n\t\tif (gameObjectB.label === 'keys') this.playerPicksKey(gameObjectB);\r\n\t\tif (gameObjectB.label === 'bat') this.playerHitsFoe(gameObjectB);\r\n\t\tif (gameObjectB.label === 'wizard') this.playerHitsFoe(gameObjectB);\r\n\t\tif (gameObjectB.label === 'fireball') this.playerHitsFoe(gameObjectB);\r\n\t\tif (!(gameObjectB instanceof Phaser.Tilemaps.Tile)) return;\r\n\r\n\t\tconst tile = gameObjectB;\r\n\r\n\t\t// if (tile.properties.isLethal) {\r\n\t\t// \tthis.unsubscribePlayerCollide();\r\n\t\t// \tthis.restartScene();\r\n\t\t// }\r\n\t}\r\n\r\n\t/*\r\n  This is called when a player picks a coin. It destroys the coin and updates the score.\r\n  */\r\n\tplayerPicksCoin(coin: Coin) {\r\n\t\tthis.showPoints(coin.x, coin.y, \"\"+1, this.scoreCoins);\r\n\t\tcoin.destroy();\r\n\t\tthis.updateCoins();\r\n\t\tthis.playAudio('coin');\r\n\t}\r\n\r\n\t/*\r\n  Same as the previous one but with the key.\r\n  */\r\n\tplayerPicksKey(key: key) {\r\n\t\tthis.updateKeys();\r\n\t\tthis.showPoints(\r\n\t\t\tkey.x,\r\n\t\t\tkey.y,\r\n\t\t\tthis.registry.get('keys') + '/' + this.dungeon.dungeon.rooms.length,\r\n\t\t\tthis.scoreKeys,\r\n\t\t);\r\n\t\tkey.destroy();\r\n\t}\r\n\r\n\t/*\r\n  Unless the player is invincible (blinking at the beginning), this is called when the player hits any foe. It kills the player, destroys the foe, and restarts the scene.\r\n  */\r\n\tplayerHitsFoe(foe: any) {\r\n\t\tif (this.player?.invincible) return;\r\n\t\tthis.player?.explosion();\r\n\t\tfoe.destroy();\r\n\t\tthis.restartScene();\r\n\t}\r\n\r\n\t/*\r\n  Every time we need to show points, we call this method. It creates a text element, adds a tween to it, and destroys it when the tween is finished.\r\n  */\r\n\tshowPoints(x: number, y: number, score: string, textElement: Phaser.GameObjects.BitmapText, color = 0xffffff) {\r\n\t\tconst text = this.add\r\n\t\t\t.bitmapText(x + 20, y - 80, 'default', '+' + score, 10)\r\n\t\t\t.setDropShadow(2, 3, color, 0.7)\r\n\t\t\t.setOrigin(0.5);\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: text,\r\n\t\t\tduration: 1000,\r\n\t\t\talpha: { from: 1, to: 0 },\r\n\t\t\tx: {\r\n\t\t\t\tfrom: text.x + Phaser.Math.Between(-10, 10),\r\n\t\t\t\tto: text.x + Phaser.Math.Between(-40, 40),\r\n\t\t\t},\r\n\t\t\ty: { from: text.y - 10, to: text.y - 60 },\r\n\t\t\tonComplete: () => {\r\n\t\t\t\ttext.destroy();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.textUpdateEffect(textElement, color);\r\n\t}\r\n\r\n\t/*\r\n  This method adds the camera to the scene and the background color. It sets the bounds of the camera to the size of the map and makes it follow the player.\r\n  */\r\n\taddCamera() {\r\n\t\tthis.cameras.main.setBounds(\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.dungeon.map.widthInPixels,\r\n\t\t\tthis.dungeon.map.heightInPixels,\r\n\t\t);\r\n\t\tthis.player && this.cameras.main.startFollow(this.player.sprite, false, 0.5, 0.5);\r\n\t\tthis.cameras.main.setBackgroundColor(0x25131a);\r\n\t}\r\n\r\n\t/*\r\n  As we did in other games, here we add the audio files to the scene along with a method to play them.\r\n  */\r\n\tloadAudios() {\r\n\t\tthis.audios = {\r\n\t\t\tjump: this.sound.add('jump'),\r\n\t\t\tbubble: this.sound.add('bubble'),\r\n\t\t\ttrap: this.sound.add('trap'),\r\n\t\t\tcrash: this.sound.add('crash'),\r\n\t\t\tfireball: this.sound.add('fireball'),\r\n\t\t\tdeath: this.sound.add('death'),\r\n\t\t\tcoin: this.sound.add('start'),\r\n\t\t};\r\n\t}\r\n\r\n\tplayAudio(key: string) {\r\n\t\tthis.audios[key].play();\r\n\t}\r\n\r\n\t/*\r\n  This method is called when the player dies. It makes the camera shake and fade out and then restarts the scene.\r\n  */\r\n\trestartScene() {\r\n\t\tif(this.player) this.player.sprite.visible = false;\r\n\t\tthis.cameras.main.shake(100);\r\n\t\tthis.cameras.main.fade(250, 0, 0, 0);\r\n\t\tthis.cameras.main.once('camerafadeoutcomplete', () => this.scene.restart());\r\n\t}\r\n\r\n\t/*\r\n  If a player finishes the stage, we fade out the camera and start the outro scene.\r\n  */\r\n\tfinishScene() {\r\n\t\tthis.cameras.main.fade(250, 0, 0, 0);\r\n\t\tthis.cameras.main.once('camerafadeoutcomplete', () => {\r\n\t\t\tthis.scene.start('outro', {\r\n\t\t\t\tnext: 'underwater',\r\n\t\t\t\tname: 'STAGE',\r\n\t\t\t\tnumber: this.number + 1,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n    This method is called every second. It updates the seconds and the timer because, for any competitive player, time is the most important thing. We could add a scoreboard at the end ordered by time.\r\n  */\r\n\tupdateSeconds(points = 1) {\r\n\t\tconst seconds = +this.registry.get('seconds') + points;\r\n\t\tthis.registry.set('seconds', seconds);\r\n\t\tthis.scoreSeconds.setText(seconds.toString());\r\n\t}\r\n\r\n\t/*\r\n  The next two functions update the coins and keys scores. In the case of the keys, if the player has collected all the keys, we finish the scene.\r\n  */\r\n\tupdateCoins(points = 1) {\r\n\t\tconst coins = +this.registry.get('coins') + points;\r\n\t\tthis.registry.set('coins', coins);\r\n\t\tthis.scoreCoins.setText('x' + coins);\r\n\t}\r\n\r\n\tupdateKeys(points = 1) {\r\n\t\tconst keys = +this.registry.get('keys') + points;\r\n\t\tthis.registry.set('keys', keys);\r\n\t\tthis.scoreKeys.setText('x' + keys);\r\n\t\tif (keys === this.dungeon.dungeon.rooms.length) {\r\n\t\t\tthis.finishScene();\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n  We have this method to update the text elements when we add points to the score. In this class is not used currently but we could use it later or in other classes.\r\n  */\r\n\ttextUpdateEffect(textElement: Phaser.GameObjects.BitmapText, color: number) {\r\n\t\ttextElement.setTint(color);\r\n\t\tconst prev = textElement.y;\r\n\t\tthis.tweens.add({\r\n\t\t\ttargets: textElement,\r\n\t\t\tduration: 100,\r\n\t\t\talpha: { from: 1, to: 0.8 },\r\n\t\t\tscale: { from: 1.2, to: 1 },\r\n\t\t\trepeat: 5,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\ttextElement.setTint(0xffffff);\r\n\t\t\t\ttextElement.y = prev;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n"],
  "mappings": "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",
  "names": ["Phaser", "key", "Phaser"]
}
